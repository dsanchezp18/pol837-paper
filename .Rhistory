scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 2) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019.5, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 2) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022.5, y = 0.5, label = "Guillermo Lasso\ntenure", color = "black", size = 2) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
ggsave("figures/interview_dates_barchart.png",
interview_dates_barchart,
width = 17,
height = 10,
units = "cm",
dpi = 800)
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 2) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 2) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022, y = 0.7, label = "Guillermo Lasso\ntenure", color = "black", size = 2) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 2) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 2) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022, y = 0.6, label = "Guillermo Lasso\ntenure", color = "black", size = 2) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 2) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 2) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022.1, y = 0.6, label = "Guillermo Lasso\ntenure", color = "black", size = 2) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 2) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 2) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022.2, y = 0.6, label = "Guillermo Lasso\ntenure", color = "black", size = 2) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 3) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 3) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022.2, y = 0.6, label = "Guillermo Lasso\ntenure", color = "black", size = 3) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 3) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 3) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022.2, y = 0.75, label = "Guillermo Lasso\ntenure", color = "black", size = 3) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 3) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2019, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 3) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022, y = 0.7, label = "Guillermo Lasso\ntenure", color = "black", size = 3) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
approval_rating_by_year_fig <-
approval_rating_by_year %>%
ggplot(aes(x = year,
y = approves_president,
ymin = approves_president - 1.96 * se,
ymax = approves_president + 1.96 * se)) +
geom_point() +
geom_errorbar(width = 0.5) +
geom_line(linetype = "dotted") +
scale_x_continuous(breaks = seq(2008, 2023, by = 2)) +
scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
labs(title = "Presidential Approval Rating by Year",
x = "Year",
y = "Approval Rating",
caption = "Note: Error bars represent 95% confidence intervals adjusted for survey design effects.") +
theme_bw() +
annotate("rect", xmin = 2007.5, xmax = 2017, ymin = 0.05, ymax = 0.8, fill = "green", alpha = 0.2) +
annotate("label", x= 2013, y = 0.55, label = "Rafael Correa tenure", color = "black", size = 3) +
annotate("rect", xmin = 2017, xmax = 2020.5, ymin = 0.05, ymax = 0.8, fill = "gray60", alpha = 0.2) +
annotate("label", x= 2018.8, y = 0.55, label = "Lenín Moreno\ntenure", color = "black", size = 3) +
annotate("rect", xmin = 2020.5, xmax = 2023.5, ymin = 0.05, ymax = 0.8, fill = "blue", alpha = 0.2) +
annotate("label", x= 2022, y = 0.7, label = "Guillermo Lasso\ntenure", color = "black", size = 3) +
theme(axis.text.x = element_text(color = "black"),
text = element_text(color = "black"),
plot.title = element_text(face = "bold", size = 14, hjust = 0.5),
plot.background = element_rect(fill = "white"),
panel.border = element_rect(colour = "black", fill = NA, linewidth = 1, linetype = "solid"),
plot.caption = element_text(hjust = 0),
panel.grid.major = element_line(linetype = "dashed", linewidth = 0.3),
panel.grid.minor = element_line(linetype = "dashed", linewidth = 0.3),
strip.background = element_rect(fill = "grey80", colour = "black", linewidth = 1)
)
approval_rating_by_year_fig
ggsave("figures/approval_rating_by_year.jpg",
plot = approval_rating_by_year_fig,
width = 17,
height = 10,
units = "cm",
dpi = 800)
# R Script: Weather data NC files download
# POL837 Term Research Paper
# Simon Fraser University
# Daniel Sanchez
# Spring 2024
# This script downloads weather data for Canton.
# Preliminaries ----------------------------------------------------------------
# Load libraries
library(sf, warn.conflicts = F)
library(terra, warn.conflicts = F)
library(dplyr, warn.conflicts = F)
library(viridis, warn.conflicts = F) # color palette for easy visualization
library(ggplot2, warn.conflicts = F)
# Load weather rasters ---------------------------------------------------------
# Max temperature
temp_max_2023 <- rast("data/weather/nc/tmax.2023.nc")
# Min temperature
temp_min_2023 <- rast("data/weather/nc/tmin.2023.nc")
# Precipitation
precip_2023 <- rast("data/weather/nc/precip.2023.nc")
# Load the canton shape file --------------------------------------------------
canton_shp <-
st_read("data/other/SHP/nxcantones.shp")  %>%
st_simplify(preserveTopology = T, dTolerance = 100) %>%
rename(prov_id = DPA_PROVIN) %>%
filter(!prov_id %in% "20") # Filter out Galápagos Islands since there are no relevant data for these canton
# Reproject the canton shapefile to match the raster's CRS
canton_shp <- st_transform(canton_shp, crs(temp_max_2023))
# Computation of averages for Ecuador ---------------------------------------
# Rotate the raster, then crop it to the canton shapefile and compute the mean
mean_tmax_ecu <-
temp_max_2023 %>%
rotate() %>%
crop(canton_shp, mask = T) %>%
app(mean)
mean_tmin_ecu <-
temp_min_2023 %>%
rotate() %>%
crop(canton_shp, mask = T) %>%
app(mean)
mean_precip_ecu <-
precip_2023 %>%
rotate() %>%
crop(canton_shp, mask = T) %>%
app(mean)
# Maps ------------------------------------------------------------------------
## In ggplot ------------------------------------------------------------------
# Convert the raster to a data frame
mean_tmax_ecu_df <- as.data.frame(mean_tmax_ecu, xy = T)
mean_tmin_ecu_df <- as.data.frame(mean_tmin_ecu, xy = T)
mean_precip_ecu_df <- as.data.frame(mean_precip_ecu, xy = T)
# Bind all together
temperature_df <-
bind_rows(
mean_tmax_ecu_df %>% mutate(type = "Max. Temperature"),
mean_tmin_ecu_df %>% mutate(type = "Min. Temperature"),
)
# Temperature chart
map <-
ggplot() +
geom_raster(data = temperature_df, aes(x = x, y = y, fill = mean)) +
scale_fill_gradientn(colors = terrain.colors(100)) +
geom_sf(data = canton_shp, color = "black", fill = "transparent") +
facet_wrap(~type) +
labs(title = "Average daily temperatures for 2023",
x = "Longitude",
y = "Latitude",
fill = "\u00B0C") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45),
plot.title = element_text(size = 16, hjust = 0.5, face = "bold"),
legend.position = "right",
legend.direction = "vertical",
panel.grid = element_blank(),
panel.border = element_rect(color = "black", fill = "transparent"))
map
ggsave("figures/temperature_map.jpg",
plot = map,
height = 10,
width = 17,
units = "cm",
dpi = 800)
# Precipitation chart
ggplot() +
geom_raster(data = mean_precip_ecu_df, aes(x = x, y = y, fill = mean)) +
scale_fill_gradientn(colors = terrain.colors(100)) +
geom_sf(data = canton_shp, color = "black", fill = "transparent") +
labs(title = "Average Precipitation (mm)")
source("~/GitHub/pol837-paper/scripts/r/weather_maps.R", echo=TRUE)
map <-
ggplot() +
geom_raster(data = temperature_df, aes(x = x, y = y, fill = mean)) +
scale_fill_gradientn(colors = terrain.colors(100)) +
geom_sf(data = canton_shp, color = "black", fill = "transparent") +
facet_wrap(~type) +
labs(x = "Longitude",
y = "Latitude",
fill = "\u00B0C") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45),
plot.title = element_text(size = 10, hjust = 0.5, face = "bold"),
legend.position = "right",
legend.direction = "vertical",
panel.grid = element_blank(),
panel.border = element_rect(color = "black", fill = "transparent"))
map
ggsave("figures/temperature_map.jpg",
plot = map,
height = 10,
width = 17,
units = "cm",
dpi = 800)
map <-
ggplot() +
geom_raster(data = temperature_df, aes(x = x, y = y, fill = mean)) +
scale_fill_gradientn(colors = terrain.colors(100)) +
geom_sf(data = canton_shp, color = "black", fill = "transparent") +
facet_wrap(~type) +
labs(x = "Longitude",
y = "Latitude",
fill = "\u00B0C") +
theme_minimal() +
theme(axis.text = element_text(size = 8),
plot.title = element_text(size = 10, hjust = 0.5, face = "bold"),
legend.position = "right",
legend.direction = "vertical",
panel.grid = element_blank(),
panel.border = element_rect(color = "black", fill = "transparent"))
map
ggsave("figures/temperature_map.jpg",
plot = map,
height = 10,
width = 17,
units = "cm",
dpi = 800)
map <-
ggplot() +
geom_raster(data = temperature_df, aes(x = x, y = y, fill = mean)) +
scale_fill_gradientn(colors = terrain.colors(100)) +
geom_sf(data = canton_shp, color = "black", fill = "transparent") +
facet_wrap(~type) +
labs(x = "Longitude",
y = "Latitude",
fill = "\u00B0C") +
theme_minimal() +
theme(axis.text = element_text(size = 8),
plot.title = element_text(size = 10, hjust = 0.5, face = "bold"),
legend.position = "right",
legend.direction = "vertical",
panel.grid = element_blank(),
panel.border = element_rect(color = "black", fill = "transparent"))
map
ggsave("figures/temperature_map.jpg",
plot = map,
height = 8,
width = 17,
units = "cm",
dpi = 800)
